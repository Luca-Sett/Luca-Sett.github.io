webpackJsonp([1],{"06Pv":function(e,t){},"7zck":function(e,t){},EbUZ:function(e,t){},FPH8:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n=a("kxiW"),s=a.n(n),o={name:"navbar",data:function(){return{sideNav:!1,isLoggedIn:!1,currentUser:!1}},created:function(){s.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=s.a.auth().currentUser.email)},methods:{go:function(e){this.$router.push(e)},logout:function(){var e=this;s.a.auth().signOut().then(function(){e.$router.go({path:e.$router.path})})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{attrs:{app:""},model:{value:e.sideNav,callback:function(t){e.sideNav=t},expression:"sideNav"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-icon",[e._v("fa fa-user")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.currentUser))])],1)],1)],1),e._v(" "),a("v-app-bar",{attrs:{color:"#26a69a",dark:"",app:""}},[a("v-app-bar-nav-icon",{staticClass:"d-flex d-sm-none",on:{click:function(t){e.sideNav=!e.sideNav}}}),e._v(" "),a("v-toolbar-title",[a("v-icon",{attrs:{left:""}},[e._v("fa fa-house-user")]),e._v("\n      Rent App\n    ")],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",{staticClass:"d-none d-sm-flex"},[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.go("/")}}},[e._v("Home")]),e._v(" "),e.isLoggedIn?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.go("/dashboard")}}},[e._v("Dashboard")]):e._e(),e._v(" "),e.isLoggedIn?a("v-btn",{attrs:{text:""},on:{click:e.logout}},[e._v("Logout")]):e._e(),e._v(" "),e.isLoggedIn?e._e():a("v-btn",{attrs:{text:""},on:{click:function(t){return e.go("/login")}}},[e._v("Login")]),e._v(" "),e.isLoggedIn?e._e():a("v-btn",{attrs:{text:""},on:{click:function(t){return e.go("/register")}}},[e._v("Register")])],1)],1)],1)},staticRenderFns:[]};var l={name:"app",components:{Navbar:a("VU/8")(o,i,!1,function(e){a("EbUZ")},"data-v-3dbe242b",null).exports}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("Navbar",{key:this.$route.fullPath}),this._v(" "),t("v-content",{staticClass:"my-container"},[t("v-container",{attrs:{fluid:""}},[t("router-view")],1)],1),this._v(" "),t("v-footer",{staticClass:"font-weight-medium",attrs:{absolute:"",app:""}},[t("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[this._v("\n      "+this._s((new Date).getFullYear())+" -\n      "),t("strong",[this._v("Rent App")])])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(e){a("bcSy")},null,null).exports,v=a("/ocq"),d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-row",{staticStyle:{padding:"30px 0"},attrs:{align:"center"}},[t("h1",[this._v("Home")])])],1)},staticRenderFns:[]};var m=a("VU/8")({name:"home"},d,!1,function(e){a("FPH8")},null,null).exports,f=a("Dd8w"),p=a.n(f),h=(a("881v"),s.a.initializeApp({apiKey:"AIzaSyCs258nb8CiXa2q5swKc0zltWQDWexcEa4",authDomain:"rentapp-345bf.firebaseapp.com",databaseURL:"https://rentapp-345bf.firebaseio.com",projectId:"rentapp-345bf",storageBucket:"rentapp-345bf.appspot.com",messagingSenderId:"894591290837",appId:"1:894591290837:web:f9a32ea62123aa5374015c",measurementId:"G-FKFQY6F1RV"}).firestore()),_={name:"dashboard",data:function(){return{users:[],currentUser:{}}},created:function(){var e=this;h.collection("users").doc(s.a.auth().currentUser.uid).get().then(function(t){e.currentUser=t.data(),"admin"==e.currentUser.role?h.collection("users").orderBy("role").get().then(function(t){t.forEach(function(t){e.users.push(p()({id:t.id},t.data()))})}):e.currentUser.role}).catch(function(e){return console.log(e)})},methods:{formatRole:function(e){switch(e){case"admin":return"Admin";case"tenant":return"Tenant";case"landlord":return"Landlord";default:return"Unknown Role"}},editUser:function(e){this.$router.push("/edit_user/"+e)}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dashboard"}},[a("v-row",{staticStyle:{padding:"30px 0"},attrs:{align:"center"}},[a("v-icon",{staticClass:"icon-padding-right",attrs:{color:"black"}},[e._v("fa fa-tachometer-alt")]),e._v(" "),a("h1",[e._v("Dashboard")])],1),e._v(" "),a("v-row",[a("v-expansion-panels",{attrs:{accordion:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"1"}},[a("v-icon",{attrs:{color:"black"}},[e._v("fa fa-user")])],1),e._v(" "),a("v-col",[a("h2",[e._v("Users")])])],1)],1)],1)],1),e._v(" "),a("v-expansion-panel-content",[a("v-list",{attrs:{"two-line":""}},e._l(e.users,function(t){return a("v-list-item",{key:t.id,on:{click:function(a){return e.editUser(t.id)}}},[a("v-list-item-avatar",[a("v-icon",{staticClass:"white--text",class:[t.role],staticStyle:{"font-style":"normal"}},[e._v(e._s(t.forename[0])+e._s(t.surname[0]))])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.forename+" "+t.surname)}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s(e.formatRole(t.role))}})],1)],1)}),1)],1)],1),e._v(" "),a("v-expansion-panel",[a("v-expansion-panel-header",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"1"}},[a("v-icon",{attrs:{color:"black"}},[e._v("fa fa-home")])],1),e._v(" "),a("v-col",[a("h2",[e._v("Properties")])])],1)],1)],1)],1),e._v(" "),a("v-expansion-panel-content",[a("v-list",{attrs:{"two-line":"",dense:""}},[a("v-list-item",[a("v-list-item-content",[a("v-col",{staticStyle:{padding:"0"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"#26a69a"},on:{click:e.newUser}},[e._v("\n                    Add User\n                    "),a("v-icon",{attrs:{color:"white",right:""}},[e._v("fa fa-plus")])],1)],1)],1)],1),e._v(" "),e._l(e.users,function(t){return a("v-list-item",{key:t.id,on:{click:function(a){return e.editUser(t.id)}}},[a("v-list-item-avatar",[a("v-icon",{staticClass:"white--text",class:[t.role]},[e._v("fa-user")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.forename+" "+t.surname)}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s(e.formatRole(t.role))}})],1)],1)})],2)],1)],1)],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(_,g,!1,function(e){a("jeui")},"data-v-66ba3b12",null).exports,x={name:"edit-user",data:function(){return{user:{}}},beforeRouteEnter:function(e,t,a){h.collection("users").doc(e.params.user_id).get().then(function(e){a(function(t){t.user=e.data()})})},methods:{updateUser:function(){var e=this;h.collection("users").doc(this.$route.params.user_id).set(this.user).then(function(){return e.goToDashboard()}).catch(function(e){return console.log(e)})},deleteUser:function(){var e=this;h.collection("users").doc(this.$route.params.user_id).delete().then(function(){return e.goToDashboard()}).catch(function(e){return console.log(e)})},goToDashboard:function(){this.$router.push("/dashboard")},getName:function(){var e="",t="",a="";return void 0!==this.user.forename&&(t+=this.user.forename),void 0!==this.user.surname&&(a+=this.user.surname),0!==t.length&&(e+=t),0!==t.length&&0!==a.length&&(e+=" "),0!==a.length&&(e+=a),""===e?"New User":e}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit-user"}},[a("v-row",{staticStyle:{padding:"30px 0"},attrs:{align:"center"}},[a("v-icon",{staticClass:"icon-padding-right",attrs:{color:"black"}},[e._v("fa fa-user")]),e._v(" "),a("h1",[e._v("Edit User")])],1),e._v(" "),a("v-card",[a("v-card-title",[a("v-list",{attrs:{dense:""}},[a("v-list-item",[e._v(e._s(e.getName()))])],1)],1),e._v(" "),a("v-card-text",[a("v-list",{attrs:{dense:""}},[a("v-form",[a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{label:"Forename",required:""},model:{value:e.user.forename,callback:function(t){e.$set(e.user,"forename",t)},expression:"user.forename"}})],1)],1),e._v(" "),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{label:"Surname",required:""},model:{value:e.user.surname,callback:function(t){e.$set(e.user,"surname",t)},expression:"user.surname"}})],1)],1),e._v(" "),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{label:"Email Address",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),e._v(" "),a("v-list-item",[a("v-radio-group",{attrs:{row:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[a("v-radio",{attrs:{color:"#ee6e73",label:"Admin",value:"admin"}}),e._v(" "),a("v-radio",{attrs:{color:"#26a69a",label:"Landlord",value:"landlord"}}),e._v(" "),a("v-radio",{attrs:{color:"#eea86e",label:"Tenant",value:"tenant"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-list-item",[a("v-btn",{staticClass:"ma-3",staticStyle:{width:"12%","margin-left":"0 !important"},attrs:{color:"grey",dark:""},on:{click:e.goToDashboard}},[e._v("\n          Back\n          "),a("v-icon",{attrs:{right:""}},[e._v("fas fa-chevron-circle-left")])],1),e._v(" "),a("v-btn",{staticClass:"ma-3",staticStyle:{width:"12%"},attrs:{color:"rgb(212, 56, 56)",dark:""},on:{click:e.deleteUser}},[e._v("\n          Delete\n          "),a("v-icon",{attrs:{right:""}},[e._v("fas fa-trash")])],1),e._v(" "),a("v-btn",{staticClass:"ma-3",staticStyle:{width:"12%"},attrs:{color:"#26a69a",dark:""},on:{click:e.updateUser}},[e._v("\n          Submit\n          "),a("v-icon",{attrs:{right:""}},[e._v("fas fa-paper-plane")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var k=a("VU/8")(x,w,!1,function(e){a("pRBP")},"data-v-329fc052",null).exports,C={name:"add-user",data:function(){return{user:{}}},methods:{addUser:function(){h.collection("users").add(this.user).then().catch(function(e){return console.log(e)}),this.goHome()},goHome:function(){this.$router.push("/")},getName:function(){var e="",t="",a="";return void 0!==this.user.forename&&(t+=this.user.forename),void 0!==this.user.surname&&(a+=this.user.surname),0!==t.length&&(e+=t),0!==t.length&&0!==a.length&&(e+=" "),0!==a.length&&(e+=a),""===e?"New User":e}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-user"}},[a("h3",[e._v("Add User")]),e._v(" "),a("ul",{staticClass:"card collection with-header"},[a("li",{staticClass:"collection-header"},[a("h5",[e._v(e._s(e.getName()))])]),e._v(" "),a("li",{staticClass:"collection-item"},[a("ul",{staticClass:"collection"},[a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.forename,expression:"user.forename"}],staticClass:"collection-item",attrs:{id:"forename",type:"text",value:""},domProps:{value:e.user.forename},on:{input:function(t){t.target.composing||e.$set(e.user,"forename",t.target.value)}}}),e._v(" "),a("label",{staticClass:"active",attrs:{for:"forename"}},[e._v("Forename")])]),e._v(" "),a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.surname,expression:"user.surname"}],staticClass:"collection-item",attrs:{id:"surname",type:"text",value:""},domProps:{value:e.user.surname},on:{input:function(t){t.target.composing||e.$set(e.user,"surname",t.target.value)}}}),e._v(" "),a("label",{staticClass:"active",attrs:{for:"surname"}},[e._v("Surname")])]),e._v(" "),a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"collection-item",attrs:{id:"email",type:"text",value:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e._v(" "),a("label",{staticClass:"active",attrs:{for:"email"}},[e._v("Email Address")])]),e._v(" "),a("div",{staticClass:"input-field row"},[a("p",{staticClass:"col"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],attrs:{name:"roleRadios",type:"radio",value:"admin",checked:""},domProps:{checked:e._q(e.user.role,"admin")},on:{change:function(t){return e.$set(e.user,"role","admin")}}}),e._v(" "),a("span",{staticClass:"black-text"},[e._v("Admin")])])]),e._v(" "),a("p",{staticClass:"col"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],attrs:{name:"roleRadios",type:"radio",value:"landlord"},domProps:{checked:e._q(e.user.role,"landlord")},on:{change:function(t){return e.$set(e.user,"role","landlord")}}}),e._v(" "),a("span",{staticClass:"black-text"},[e._v("Landlord")])])]),e._v(" "),a("p",{staticClass:"col"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],attrs:{name:"roleRadios",type:"radio",value:"tenant"},domProps:{checked:e._q(e.user.role,"tenant")},on:{change:function(t){return e.$set(e.user,"role","tenant")}}}),e._v(" "),a("span",{staticClass:"black-text"},[e._v("Tenant")])])])])])]),e._v(" "),a("li",{staticClass:"collection-item"},[a("button",{staticClass:"btn waves-effect waves-light back",on:{click:e.goHome}},[e._v("\n        Back\n        "),a("i",{staticClass:"fas fa-chevron-circle-left right"})]),e._v(" "),a("button",{staticClass:"btn waves-effect waves-light",on:{click:e.addUser}},[e._v("\n        Submit\n        "),a("i",{staticClass:"fas fa-paper-plane right"})])])])])},staticRenderFns:[]};var $=a("VU/8")(C,U,!1,function(e){a("06Pv")},"data-v-aa6e6470",null).exports,y={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(e){var t=this;e.preventDefault(),s.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){return t.$router.push("/dashboard")},function(e){return alert(e.message)})}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Login")]),e._v(" "),a("v-text-field",{attrs:{type:"email",label:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("v-text-field",{attrs:{type:"password",label:"Password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("v-btn",{on:{click:e.login}},[e._v("Log In")])],1)},staticRenderFns:[]};var P=a("VU/8")(y,N,!1,function(e){a("fVom")},null,null).exports,R={name:"register",data:function(){return{password:"",user:{role:"landlord"}}},methods:{register:function(e){var t=this;e.preventDefault(),s.a.auth().createUserWithEmailAndPassword(this.user.email,this.password).then(function(e){h.collection("users").doc(s.a.auth().currentUser.uid).set(t.user).then(function(){return t.$router.push("/dashboard")}).catch(function(e){return console.log(e)})},function(e){return alert(e.message)})}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-card",[a("v-card-title",[e._v("Register")]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",[a("v-text-field",{attrs:{type:"email",label:"Email",color:"#26a69a",required:"",autofocus:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),a("v-text-field",{attrs:{type:"password",autocomplete:"password",label:"Password",color:"#26a69a",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("v-text-field",{attrs:{label:"Forename",color:"#26a69a",required:""},model:{value:e.user.forename,callback:function(t){e.$set(e.user,"forename",t)},expression:"user.forename"}}),e._v(" "),a("v-text-field",{attrs:{label:"Surname",color:"#26a69a",required:""},model:{value:e.user.surname,callback:function(t){e.$set(e.user,"surname",t)},expression:"user.surname"}}),e._v(" "),a("v-text-field",{attrs:{label:"Mobile Number",color:"#26a69a",required:""},model:{value:e.user.telephone,callback:function(t){e.$set(e.user,"telephone",t)},expression:"user.telephone"}}),e._v(" "),a("v-radio-group",{attrs:{row:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[a("v-radio",{attrs:{color:"#26a69a",label:"Landlord",value:"landlord"}}),e._v(" "),a("v-radio",{attrs:{color:"#eea86e",label:"Tenant",value:"tenant"}})],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-btn",{on:{click:e.register}},[e._v("Register")])],1)],1)],1)],1)},staticRenderFns:[]};var E=a("VU/8")(R,q,!1,function(e){a("NkvE")},null,null).exports;r.default.use(v.a);var A=new v.a({routes:[{path:"/",name:"home",component:m},{path:"/dashboard",name:"dashboard",component:b,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:P,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:E,meta:{requiresGuest:!0}},{path:"/edit_user/:user_id",name:"edit-user",component:k,meta:{requiresAuth:!0}},{path:"/add_user",name:"add-user",component:$,meta:{requiresAuth:!0}}]});A.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.requiresAuth})?s.a.auth().currentUser?a():a({path:"/login",query:{redirect:e.fullPath}}):e.matched.some(function(e){return e.meta.requiresGuest})&&s.a.auth().currentUser?a({path:"/dashboard",query:{redirect:e.fullPath}}):a()});var S=A,F=(a("ao2D"),a("3EgV")),D=a.n(F);a("7zck");r.default.use(D.a);var L=new D.a({icons:{iconfont:"fa"}});r.default.config.productionTip=!1;var I=void 0;s.a.auth().onAuthStateChanged(function(e){I||(I=new r.default({el:"#app",router:S,components:{App:u},vuetify:L,template:"<App/>"}))})},NkvE:function(e,t){},ao2D:function(e,t){},bcSy:function(e,t){},fVom:function(e,t){},jeui:function(e,t){},pRBP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.407c701d17f234953213.js.map